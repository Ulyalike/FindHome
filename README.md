# Аналитическая платформа рынка недвижимости

Веб-приложение для анализа рынка недвижимости в России с прогнозированием аренды, доходности и трендов.

## Возможности

1. **Парсинг данных с Циана** - автоматическое извлечение карточек недвижимости с фото и ценами
2. **Прогноз аренды** - оценка потенциальной арендной платы для объекта
3. **Анализ доходности** - расчет доходности от аренды и последующей продажи (одновременно!)
4. **Сравнение объектов** - выбор наиболее выгодного объекта для сдачи
5. **Прогнозы по районам** - индексы рынка и тренды развития локаций
6. **Аналитика** - рыночные индексы и прогнозы
7. **Каталог с анализом** - просмотр объектов с Циана с автоматическим расчетом аренды и доходности

## Технологии

- **Backend**: Python (FastAPI)
- **Frontend**: React
- **Модели**: Python (scikit-learn, pandas, numpy)
- **Визуализация**: Recharts

## Установка и запуск

### Backend

1. Перейдите в директорию backend:
```bash
cd backend
```

2. Создайте виртуальное окружение (рекомендуется):
```bash
python -m venv venv
source venv/bin/activate  # На Windows: venv\Scripts\activate
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

**Важно:** После установки зависимостей убедитесь, что установлены библиотеки для парсинга:
- `beautifulsoup4` - для парсинга HTML
- `lxml` - для быстрого парсинга
- `requests` - для HTTP запросов

4. Запустите сервер:
```bash
uvicorn main:app --reload
```

Сервер будет доступен по адресу: http://localhost:8000
API документация: http://localhost:8000/docs

### Frontend

1. Перейдите в директорию frontend:
```bash
cd frontend
```

2. Установите зависимости:
```bash
npm install
```

3. Запустите приложение:
```bash
npm start
```

Приложение будет доступно по адресу: http://localhost:3000

## Структура проекта

```
├── backend/          # Python API
│   ├── models/       # Модели анализа недвижимости
│   │   ├── rental_forecast.py    # Прогноз аренды
│   │   ├── yield_calculator.py   # Калькулятор доходности
│   │   ├── market_index.py       # Индексы рынка
│   │   └── schemas.py            # Модели данных
│   ├── api/          # API endpoints
│   │   ├── property.py           # Прогноз аренды и доходность
│   │   ├── comparison.py         # Сравнение объектов
│   │   └── analytics.py          # Аналитика
│   ├── data/         # Данные и моки
│   └── main.py        # Точка входа
├── frontend/         # React приложение
│   ├── src/
│   │   ├── components/   # Компоненты (Navbar)
│   │   ├── pages/        # Страницы приложения
│   │   └── services/     # API сервисы
└── README.md
```

## API Endpoints

### Прогноз аренды
- `POST /api/property/rental-forecast` - Расчет прогноза арендной платы

### Анализ доходности
- `POST /api/property/yield-analysis` - Расчет доходности (аренда + продажа)

### Сравнение объектов
- `POST /api/comparison/compare` - Сравнение нескольких объектов

### Аналитика
- `GET /api/analytics/districts/forecast` - Прогнозы по районам
- `GET /api/analytics/market-trends` - Рыночные тренды
- `GET /api/analytics/market-index` - Общий индекс рынка

### Парсинг Циана
- `POST /api/cian/parse` - Парсинг карточек недвижимости с Циана
  - Тело запроса: `{ "url": "https://syktyvkar.cian.ru/kupit-kvartiru/", "max_items": 20 }`
  - Возвращает список объектов с фото, ценами, описаниями и адресами

### Поиск
- `GET /api/property/search` - Поиск объектов

## Дизайн

Приложение использует оригинальный дизайн в белых тонах с яркими акцентами:
- Основной цвет: #FF6B6B (красный)
- Вторичный цвет: #4ECDC4 (бирюзовый)
- Фон: #FFFFFF (белый)
- Текст: #1a1a1a (темно-серый)

## Особенности

- Модели учитывают район, площадь, этаж, состояние ремонта, расстояние до метро
- Расчет доходности с учетом роста цен по районам
- Визуализация данных с помощью графиков
- Адаптивный дизайн для мобильных устройств

## Примечания

- В текущей версии используются мокированные данные
- Для интеграции с реальными данными ЦИАН/ДомКлик необходимо добавить соответствующие API endpoints
- Модели можно улучшить, обучив их на реальных исторических данных
